---
title: "Regression Models - Project"
author: "justmzen"
date: "8/21/2020"
output: pdf_document
---

# Executive summary

The aim of the following study is to evaluate the relationship among many variables and miles per gallon (mpg) as the outcome. The main questions are:
- Is an automatic or manual transmission better for mtcars?
- Quantify the mtcars difference between automatic and manual transmissions.

# Data loading and manipulation

```{r, echo = TRUE, message = FALSE}
library('ggplot2')
library('datasets'); data('mtcars')
mtcars$am <- as.factor(mtcars$am)
levels(mtcars$am) <- c('Automatic', 'Manual')
```

# Exploratory data analysis

For details on the data set see Appendix A.  
For graphs on interesting variables see Appendix B.  

The data set has 32 observations and 11 variables. The relevant variables are mpg (outcome) and am (asked regressor). The plot in Appendix B shows that there is a possible relationship between the two variables: the manual transmission has a higher mpg compared to the automatic one.  

A t-test ...

# Appendixes

## Appendix A

```{r, echo = TRUE}
str(mtcars)
head(mtcars)
```

## Appendix B

### Transmission

```{r, echo = TRUE, fig.width=5, fig.height=3, fig.align='center'}
qplot(am, mpg, data=mtcars, geom='boxplot', fill=am)
```


```{r, echo = TRUE}

```

```{r, echo = TRUE}

```

```{r, echo = TRUE}

```

```{r, echo = TRUE}

```

```{r, echo = TRUE}

```

```{r, echo = TRUE}

```

```{r, echo = TRUE}

```










# Comparing automatic and manual ammissions

```{r, echo = TRUE, fig.width=4, fig.height=3, fig.align='center'}
# qplot(ammission, cty, data=mtcars, geom="boxplot", fill=ammission, ylab = 'City miles per gallon')
```

The plot suggests that manual ammission is better than automatic ammission based on the cty variable.

A t-test can verify the mean of manual ammission is greater than the mean of automatic ammission.

```{r, echo = TRUE}
# t.test(mtcars[ammission == 'manual','cty'],
       # mtcars[ammission == 'automatic','cty'],
       # alternative = "greater", var.equal = FALSE)$p.value
```

Since the p-value is very low, it is possible to reject the null hypothesis that the means are equal and accept the alternative hypothesis, which is that the mean of the manual ammission is greater than the automatic one.

# Models

```{r, echo = TRUE}
# fit1 <- lm(cty ~ ammission, data = mtcars)
# summary(fit1)
# 
# fit2 <- update(fit1, cty ~ ammission + class -1)
# summary(fit2)
# 
# fit3 <- update(fit1, cty ~ ammission + class + fl)
# summary(fit3)
# 
# fit4 <- update(fit1, cty ~ ammission + class + fl + displ)
# fit5 <- update(fit1, cty ~ ammission + class + fl + displ + drv)
# fitAll <- update(fit1, cty ~ ammission + class + fl + displ + drv +
#                          manufacturer + model + year)
```

# Model selection

```{r, echo = TRUE, message = FALSE}
# anova(fit1, fit2, fit3, fit4, fit5, fitAll)

require(car)

```

# Interpretation of the coefficients

```{r, echo = TRUE}

```

# Diagnostics
Diagnostics and/or residual plots

```{r, echo = TRUE}
# e <- resid(fit)
# plot(fit)
```

# Conclusion
Inference / uncertainty quantification

```{r, echo = TRUE}
# Confidence intervals
# sumCoef <- summary(fit)$coefficients
# sumCoef[1,1] + c(-1,1)*qt(.975, df=fit$df)*sumCoef[1,2]
# sumCoef[2,1] + c(-1,1)*qt(.975, df=fit$df)*sumCoef[2,2]
```
